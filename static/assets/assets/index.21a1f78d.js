import{d as a,r as e,e as t,aJ as r,A as d,B as o,aG as s,aF as l,aL as n,E as i,aI as c,aT as m,aU as u,bH as p,bI as b,b1 as _,b0 as f,b6 as x,aW as j,b7 as g,bO as y,bP as h,bM as I}from"./arco.d4bcacf5.js";import{_ as v}from"./index.0b964313.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{m as k}from"./moment.b4a440e7.js";import{e as C,o as Y}from"./record.aab2e77e.js";import"./chart.b90db84f.js";import"./vue.5c43e2ab.js";import"./_commonjs-dynamic-modules.30ae7933.js";const A={key:0},D={key:1},H={key:2},M={key:3},E={key:4},V={key:5},w=a({__name:"table-data",setup(a){const v={current:1,pageSize:20},w=[{title:"ID",dataIndex:"ID"},{title:"订单类名",dataIndex:"order_task_type"},{title:"订单号",dataIndex:"order_id"},{title:"订单归属用户",dataIndex:"order_uid"},{title:"订单任务数量",dataIndex:"order_number"},{title:"订单状态",dataIndex:"order_state",slotName:"order_state"},{title:"下单IP",dataIndex:"order_ip"},{title:"下单时间",dataIndex:"CreatedAt"}],B=e({table:[]}),O=e({fc:"",state:"",data:""}),P=t(!1),T=async a=>{await C(a).then((a=>{v.current=a.data.page,B.table=a.data.page_data,B.table.forEach((a=>{a.CreatedAt=k(a.CreatedAt).format("YYYY-MM-DD HH:mm:ss")}))}))};T(v.current);const U=()=>{P.value=!0},z=a=>{O.fc=a},F=()=>{O.fc?O.data?(Y(O).then((a=>{2e3===a.code&&(m.success("检索成功"),O.data="",B.table=a.data,B.table.forEach((a=>{a.CreatedAt=k(a.CreatedAt).format("YYYY-MM-DD HH:mm:ss")})))})),v.current=1,P.value=!1):m.error("检索值不能为空"):m.error("检索方法不能为空")},G=()=>{P.value=!1},J=()=>{T(1)};return(a,e)=>{const t=r("icon-search"),m=u,k=r("icon-refresh"),C=p,Y=b,L=_,N=f,S=x,W=j,q=g,K=y,Q=h,R=I;return d(),o(c,null,[s(m,{type:"outline",onClick:U},{icon:l((()=>[s(t)])),default:l((()=>[n("搜索")])),_:1}),n("   "),s(m,{type:"outline",status:"success",onClick:J},{icon:l((()=>[s(k)])),default:l((()=>[n("重置")])),_:1}),s(W,{width:500,visible:P.value,"unmount-on-close":"","ok-text":"检索",onOk:F,onCancel:G},{title:l((()=>[n(" 订单搜索 ")])),default:l((()=>[i("div",null,[s(S,{model:O,layout:"vertical"},{default:l((()=>[s(L,{field:"email",label:"检索内容"},{default:l((()=>[s(Y,{placeholder:"选择检索项",onChange:z},{default:l((()=>[s(C,null,{default:l((()=>[n("订单号")])),_:1})])),_:1})])),_:1}),s(L,{field:"points",label:"欲检索内容"},{default:l((()=>[s(N,{modelValue:O.data,"onUpdate:modelValue":e[0]||(e[0]=a=>O.data=a),placeholder:"值（支持模糊搜索）"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["visible"]),s(q),s(Q,{pagination:!1,columns:w,data:B.table},{order_state:l((({record:a})=>[-1===a.order_state?(d(),o("span",A,[s(K,{bordered:"",color:"green"},{default:l((()=>[n("等待中")])),_:1})])):0===a.order_state?(d(),o("span",D,[s(K,{bordered:"",color:"green"},{default:l((()=>[n("进行中")])),_:1})])):3===a.order_state?(d(),o("span",H,[s(K,{bordered:"",color:"green"},{default:l((()=>[n("退款中")])),_:1})])):1===a.order_state?(d(),o("span",M,[s(K,{bordered:"",color:"gray"},{default:l((()=>[n("已完成")])),_:1})])):2===a.order_state?(d(),o("span",E,[s(K,{bordered:"",color:"gray"},{default:l((()=>[n("已终止")])),_:1})])):(d(),o("span",V,[s(K,{bordered:"",color:"gray"},{default:l((()=>[n("已退款")])),_:1})]))])),_:1},8,["data"]),s(R,{style:{float:"right","margin-top":"10px","margin-right":"20px","margin-bottom":"10px"},total:10*v.current,simple:"",onChange:T},null,8,["total"])],64)}}}),B={class:"container"},O={class:"left-side",style:{"margin-top":"12px"}},P={class:"panel"},T=v(a({name:"Task",setup:a=>(a,e)=>{const t=r("Breadcrumb");return d(),o("div",B,[s(t,{items:["订单管理"]}),i("div",O,[i("div",P,[s(w)])])])}}),[["__scopeId","data-v-418ca0c6"]]);export{T as default};
