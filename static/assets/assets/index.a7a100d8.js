import{d as a,r as e,A as t,aC as r,aF as s,aG as l,bB as o,b5 as d,bC as n,b7 as i,bD as u,e as p,B as m,aI as _,aH as c,aL as f,E as v,aM as y,aT as x,b4 as g,aU as b,bL as h,bM as k,bN as j,aZ as C,aJ as z}from"./arco.6fa229d2.js";import{_ as w}from"./index.663b2955.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                */import{g as A,a as Y,r as D}from"./record.9c311493.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{m as M}from"./moment.20765af1.js";import"./chart.f78d3971.js";import"./vue.17197c5c.js";import"./_commonjs-dynamic-modules.30ae7933.js";const H=w(a({__name:"data-panel",setup(a){const p=e({order_today:0,order_seven:0,order_thirty:0,order_total:0});return(async()=>{await A().then((a=>{p.order_today=a.data.order_today,p.order_seven=a.data.order_seven,p.order_thirty=a.data.order_thirty,p.order_total=a.data.order_total}))})(),(a,e)=>{const m=o,_=d,c=n,f=i,v=u;return t(),r(v,{cols:24,"row-gap":16,class:"panel"},{default:s((()=>[l(c,{class:"panel-col",span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6}},{default:s((()=>[l(_,null,{default:s((()=>[l(m,{title:"今日订单",value:p.order_today,"value-from":0,animation:"","show-group-separator":""},null,8,["value"])])),_:1})])),_:1}),l(c,{class:"panel-col",span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},style:{"border-right":"none"}},{default:s((()=>[l(_,null,{default:s((()=>[l(m,{title:"7日订单",value:p.order_seven,"value-from":0,animation:"","show-group-separator":""},null,8,["value"])])),_:1})])),_:1}),l(c,{class:"panel-col",span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6}},{default:s((()=>[l(_,null,{default:s((()=>[l(m,{title:"30日订单",value:p.order_thirty,"value-from":0,animation:"","show-group-separator":""},null,8,["value"])])),_:1})])),_:1}),l(c,{class:"panel-col",span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},style:{"border-right":"none"}},{default:s((()=>[l(_,null,{default:s((()=>[l(m,{title:"总订单",value:p.order_total,"value-from":0,animation:"","show-group-separator":""},null,8,["value"])])),_:1})])),_:1}),l(c,{span:24},{default:s((()=>[l(f,{class:"panel-border"})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a5134f71"]]),I={style:{color:"#86909c"}},U={key:0},B={key:1},L={key:2},E={key:3},T={key:4},F={key:5},G={key:0},J={key:1},N=w(a({__name:"formData",setup(a){const o=p(!1),d=e({order_id:""}),n={current:1,pageSize:20},i=e({table:[]}),u=async a=>{await Y(a).then((a=>{n.current=a.data.page,i.table=a.data.page_data,i.table.forEach((a=>{a.CreatedAt=M(a.CreatedAt).format("YYYY-MM-DD HH:mm:ss"),a.UpdatedAt=M(a.UpdatedAt).format("YYYY-MM-DD HH:mm:ss")}))}))};u(n.current);const z=()=>{D(d.order_id).then((a=>{2e3===a.code&&(x.success("已申请退单"),u(n.current))})),o.value=!1},w=()=>{o.value=!1};return(a,e)=>{const p=g,x=b,A=h,Y=k,D=j,M=C;return t(),m(_,null,[l(Y,null,{default:s((()=>[(t(!0),m(_,null,c(i.table,(a=>(t(),m("span",{key:a},[(t(),r(A,{key:a.ID,header:"创建时间："+a.CreatedAt},{extra:s((()=>[-1===a.order_state?(t(),r(p,{key:0,size:"mini",style:{color:"#165dff"}},{default:s((()=>[f("等待中")])),_:1})):0===a.order_state?(t(),r(p,{key:1,size:"mini",style:{color:"#165dff"}},{default:s((()=>[f("进行中")])),_:1})):3===a.order_state?(t(),r(p,{key:2,size:"mini",style:{color:"#165dff"}},{default:s((()=>[f("退款中")])),_:1})):1===a.order_state?(t(),r(p,{key:3,size:"mini",style:{color:"#bedaff"}},{default:s((()=>[f("已完成")])),_:1})):2===a.order_state?(t(),r(p,{key:4,size:"mini",style:{color:"#bedaff"}},{default:s((()=>[f("已终止")])),_:1})):(t(),r(p,{key:5,size:"mini",style:{color:"#bedaff"}},{default:s((()=>[f("已退款")])),_:1}))])),default:s((()=>[v("div",I,[v("div",null,"创建时间："+y(a.CreatedAt),1),v("div",null,"更新时间："+y(a.UpdatedAt),1),v("div",null,"订单类型："+y(a.order_task_type),1),v("div",null,"消费点券："+y(a.order_tickets)+" 点券",1),v("div",null,"任务数量："+y(a.order_number),1),v("div",null,"任务变量："+y(a.order_variable),1),v("div",null,[f("订单状态： "),-1===a.order_state?(t(),m("span",U,"等待中")):0===a.order_state?(t(),m("span",B,"进行中")):1===a.order_state?(t(),m("span",L,"已完成")):2===a.order_state?(t(),m("span",E,"已终止")):3===a.order_state?(t(),m("span",T,"退款中")):(t(),m("span",F,"已退款"))]),v("div",null,[f("订单实况： "),""!==a.order_status?(t(),m("span",G,y(a.order_status),1)):(t(),m("span",J," Loading"))]),v("div",null,"订单备注："+y(a.order_state_reason),1),v("div",null,"任务备注："+y(a.order_remarks),1)]),v("div",null,[-1===a.order_state||0===a.order_state?(t(),r(x,{key:0,style:{float:"right","margin-top":"10px","margin-right":"20px","margin-bottom":"10px"},shape:"round",type:"primary",size:"small",onClick:e=>{return t=a.order_id,d.order_id=t,void(o.value=!0);var t}},{default:s((()=>[f("退单")])),_:2},1032,["onClick"])):(t(),r(x,{key:1,style:{float:"right","margin-top":"10px","margin-right":"20px","margin-bottom":"10px"},shape:"round",type:"primary",size:"small",disabled:""},{default:s((()=>[f("退单")])),_:1}))])])),_:2},1032,["header"]))])))),128))])),_:1}),l(D,{style:{float:"right","margin-top":"10px","margin-right":"20px","margin-bottom":"10px"},total:10*n.current,simple:"",onChange:u},null,8,["total"]),l(M,{visible:o.value,"onUpdate:visible":e[0]||(e[0]=a=>o.value=a),width:"354px",onOk:z,onCancel:w},{title:s((()=>[f(" 确认退款此订单？ ")])),default:s((()=>[v("div",null,"订单编号："+y(d.order_id),1)])),_:1},8,["visible"])],64)}}}),[["__scopeId","data-v-186d66b5"]]),O={class:"container"},S={class:"left-side",style:{"margin-top":"12px"}},Z={class:"panel"},q=w(a({name:"Task",setup:a=>(a,e)=>{const r=z("Breadcrumb");return t(),m("div",O,[l(r,{items:["记录","我的订单"]}),v("div",S,[v("div",Z,[l(H),l(N)])])])}}),[["__scopeId","data-v-f2d0df0e"]]);export{q as default};
